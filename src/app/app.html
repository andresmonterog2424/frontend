<div class="d-flex flex-column min-vh-100 bg-gradient">
  <!-- Enlace para saltar al contenido (mejora accesibilidad) -->
  <a class="visually-hidden-focusable" href="#main">Saltar al contenido</a>

  <!-- Header -->
  <header role="banner" class="bg-primary bg-opacity-10 text-center py-4 shadow-sm">
    <div class="container">
      <h1 class="display-5 fw-light text-white mb-3" i18n>
         Sistema de Gesti贸n de Biblioteca
      </h1>

      <!-- Mensaje de bienvenida -->
      <p class="lead text-white-50 mb-3" role="status" aria-live="polite">
        {{ welcomeMessage() }}
      </p>

      <!-- Bot贸n de cerrar sesi贸n -->
      <button
        *ngIf="isAuthenticated()"
        type="button"
        class="btn btn-danger btn-lg rounded-pill shadow-sm"
        (click)="logout()"
        aria-label="Cerrar sesi贸n"
        title="Cerrar sesi贸n"
      >
         Cerrar Sesi贸n
      </button>
    </div>
  </header>

  <!-- Main -->
  <main
    id="main"
    role="main"
    class="flex-grow-1 d-flex align-items-center justify-content-center py-5"
    tabindex="-1"
  >
    <div class="container">
      <!-- Si no est谩 autenticado, muestra el login -->
      <ng-container *ngIf="!isAuthenticated(); else authPanel">
        <section aria-label="Iniciar sesi贸n">
          <login aria-label="Formulario de inicio de sesi贸n"></login>
        </section>
      </ng-container>

      <!-- Panel seg煤n rol -->
      <ng-template #authPanel>
        <section aria-label="Panel autenticado">
          <ng-container [ngSwitch]="getRole()">
            <!-- Panel de administraci贸n -->
            <panel-admin *ngSwitchCase="'admin'" aria-label="Panel de administraci贸n"></panel-admin>

            <!-- Panel de estudiante -->
            <div *ngSwitchCase="'student'" class="text-center py-4">
              <p i18n>Panel de estudiante a煤n no implementado.</p>
            </div>

            <!-- Rol desconocido -->
            <div *ngSwitchDefault class="text-center text-muted py-4">
              <p i18n>Rol no reconocido. Contacte al administrador si cree que esto es un error.</p>
            </div>
          </ng-container>
        </section>
      </ng-template>
    </div>
  </main>

  <!-- Footer -->
  <footer role="contentinfo" class="bg-dark bg-opacity-25 text-center py-3 mt-auto">
    <div class="container">
      <p class="text-white-50 mb-0">
        漏 2025 Sistema de Gesti贸n de Biblioteca
      </p>
    </div>
  </footer>
</div>
